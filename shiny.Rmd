---
title: "Using shiny with flexdashboard"
output:
  flexdashboard::flex_dashboard: default
---

## Overview

By adding [Shiny](http://shiny.rstudio.com) to a flexdashboard, you can create dashboards that enable viewers to change underlying parameters and see the results immediately, or that update themselves incrementally as their underlying data changes (see [`reactiveFileReader`](http://shiny.rstudio.com/reference/shiny/latest/reactiveFileReader.html) and [`reactivePoll`](http://shiny.rstudio.com/reference/shiny/latest/reactivePoll.html)). This is done by adding `runtime: shiny` to a standard flexdashboard and then adding one or more input controls and/or reactive expressions that dynamically drive the appearance of the charts within the dashboard.

Using Shiny with flexdashboard turns a static R Markdown report into an [Interative Document](http://rmarkdown.rstudio.com/authoring_shiny.html). It's important to note that interactive documents need to be [deployed](http://rmarkdown.rstudio.com/authoring_shiny.html#deployment) to a Shiny Server to be shared broadly (whereas static R Markdown documents are standalone web pages that can be attached to emails or served from any standard web server).

Note that the [shinydashboard](https://rstudio.github.io/shinydashboard/) package provides another way to create dashboards with Shiny.  

## Requirements

The steps required to add Shiny components to a flexdashboard are as follows:

1. Add `runtime: shiny` to the options declared at the top of the document (YAML front matter).

2. Add the `{.sidebar}` attribute to the first column of the dashboard to make it a host for Shiny input controls (note this step isn't strictly required, but most Shiny based dashboards will want to do this).

3. Add Shiny inputs and output as appropriate.

4. When including plots, be sure to wrap them in a call to [renderPlot](http://shiny.rstudio.com/reference/shiny/latest/renderPlot.html). This is important not only for dynamically responding to changes but also to ensure that they are automatically re-sized when their container changes.

## Using Shiny

When you use Shiny within a flexdashboard you'll be making use of both input elements (e.g. sliders, checkboxes, etc.) and output elements (plots, tables, etc.). Input elements are typically presented within a sidebar and outputs within flexdashboard content panes.

### Input Sidebar

You add an input sidebar to a flexdashboard by adding the `{.sidebar}` attribute to a column, which indicates that it should be laid out flush to the left with a default width of 250 pixels and a special background color. Sidebars always appear on the left no matter where they are defined within the flow of the document. 

Here's a simple flexdashboard that includes an input sidebar:

<img src="images/ShinyDygraphs.png" width="865" height="745"/>

#### Source Code

The source code for the example is presented below. The first column ("Inputs") includes the `{.sidebar}` attribute and the Shiny input controls; the second column ("Outputs") includes the Shiny code required to render the chart based on the inputs.

<div id="shinycode"></div>
<script type="text/javascript">loadSnippet('shinycode')</script>

### Sidebar Width

You can alter the default width of the sidebar using the `data-width` attribute, for example:

<div id="sidebarwidth"></div>
<script type="text/javascript">loadSnippet('sidebarwidth')</script>

### Global Sidebar

If you are creating a flexdashboard with [Multiple Pages](using.html#multiple-pages) you may want to use a single sidebar that applies across all pages. In this case you should define the sidebar using a level 1 markdown header (the same as is used to define pages).  

For example, this dashboard includes a global sidebar:

<div id="sidebarmultiplepages"></div>
<script type="text/javascript">loadSnippet('sidebarmultiplepages')</script>

## Examples

Several examples are available to help you learn more about using Shiny with flexdashboard (each example includes full source code):

1. [Iris K-Means Clustering](https://jjallaire.shinyapps.io/shiny-kmeans/)

2. [Linked Brushing with ggplot2](https://jjallaire.shinyapps.io/shiny-ggplot2-brushing/)

3. [CRAN Download Monitor](https://jjallaire.shinyapps.io/shiny-crandash/) 

4. [Gene Expression Biclustering ](https://jjallaire.shinyapps.io/shiny-biclust/)

## Learning More

The following articles are excellent resources for learning more about Shiny and creating interactive documents:

1. The [Introduction to Interactive Documents](http://shiny.rstudio.com/articles/interactive-docs.html) article provides a great resources for getting started with Shiny and R Markdown.

2. The [Interactive Documents](http://rmarkdown.rstudio.com/authoring_shiny.html) article on the R Markdown web site provides additional introductory material as well as information on deploying interactive documents.

3. The [Shiny Dev Center](http://shiny.rstudio.com) includes extensive articles, tutorials, and examples to help you learn more about Shiny.
